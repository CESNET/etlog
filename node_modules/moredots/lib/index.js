'use strict';

var isPlainObject = require('lodash.isplainobject');

{
  (function () {
    var moredots = function moredots(src) {
      var dst = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];
      var prefix = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];

      for (var key in src) {
        if (isPlainObject(src[key])) {
          moredots(src[key], dst, prefix + key + '.');
        } else {
          dst[prefix + key] = src[key];
        }
      }

      return dst;
    };

    module.exports = moredots;
  })();
}